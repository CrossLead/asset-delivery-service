{"version":3,"sources":["deliverer.js"],"names":[],"mappings":";;;;;;;;;;;;;AAMe,MAAM,SAAN,CAAgB;;;;;;AAM7B,cAAY,OAAZ,EAAqB,YAArB,EAAmC;AACjC,QAAI,OAAJ,EAAa;AACX,WAAK,QAAL,GAAgB,mBAAmB,KAAnB,GACR,OADQ,GACE,CAAC,OAAD,CADF,CADL;KAAb,MAGO;AACL,WAAK,QAAL,GAAgB,EAAhB,CADK;KAHP;;AAOA,QAAI,YAAJ,EAAkB;AAChB,WAAK,aAAL,GAAqB,wBAAwB,KAAxB,GACR,YADQ,GACO,CAAC,YAAD,CADP,CADL;KAAlB,MAGO;AACL,WAAK,aAAL,GAAqB,EAArB,CADK;KAHP;GARF;;;;;;AAN6B,MA0B7B,GAAa;;;;AACX,aAAO,MAAM,MAAK,aAAL,CAAmB,OAAnB,CAA2B,gBAAQ;AAC9C,cAAK,QAAL,CAAc,OAAd,CAAsB;iBAAO,KAAK,IAAL,CAAU,GAAV;SAAP,CAAtB,CAD8C;OAAR,CAAjC;SADI;GAAb;;;;;;;AA1B6B,QAqC7B,CAAO,GAAP,EAAY;AACV,QAAI,eAAe,KAAf,EAAsB;AACxB,WAAK,QAAL,GAAgB,GAAhB,CADwB;KAA1B,MAEO;AACL,WAAK,QAAL,GAAgB,CAAC,GAAD,CAAhB,CADK;KAFP;GADF;;AAQA,SAAO,GAAP,EAAY;AACV,SAAK,QAAL,CAAc,IAAd,CAAmB,GAAnB,EADU;GAAZ;;;;;;AA7C6B,SAqD7B,CAAQ,IAAR,EAAc;AACZ,QAAI,gBAAgB,KAAhB,EAAuB;AACzB,WAAK,YAAL,GAAoB,IAApB,CADyB;KAA3B,MAEO;AACL,WAAK,aAAL,GAAqB,CAAC,IAAD,CAArB,CADK;KAFP;GADF;;;;;;AArD6B,SAiE7B,CAAQ,IAAR,EAAc;AACZ,SAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,EADY;GAAd;CAjEa;kBAAM","file":"deliverer.js","sourcesContent":["\n/**\n * @class Deliverer\n * @description\n *   Deliver emails to a destination that have the source as an attachment\n */\nexport default class Deliverer {\n\n  /**\n   * @param  {Source[]} [sources]\n   * @param  {Destination[]} [destinations]\n   */\n  constructor(sources, destinations) {\n    if (sources) {\n      this._sources = sources instanceof Array \n            ? sources : [sources];\n    } else {\n      this._sources = [];\n    }\n    \n    if (destinations) {\n      this._destinations = destinations instanceof Array \n                 ? destinations : [destinations];\n    } else {\n      this._destinations = [];\n    }\n  }\n\n  /**\n   * Submit the source to destinations\n   * @return {Promise}\n   */\n  async send() {\n    return await this._destinations.forEach(dest => {\n      this._sources.forEach(src => dest.send(src));\n    });\n  }\n\n  /**\n   * Set the sources collection\n   * Resets the sources collection\n   * @param {Source|Source[]} src\n   */\n  setSrc(src) {\n    if (src instanceof Array) {\n      this._sources = src;\n    } else {\n      this._sources = [src];\n    }\n  }\n\n  addSrc(src) {\n    this._sources.push(src)\n  }\n\n  /**\n   * Set the destinations collection\n   * @param {Destination|Destination[]} dest\n   */\n  setDest(dest) {\n    if (dest instanceof Array) {\n      this._destination = dest;\n    } else {\n      this._destinations = [dest];\n    }\n  }\n\n  /**\n   * Add a destination to the destinations collection\n   * @param {Destination} dest\n   */\n  addDest(dest) {\n    this._destination.push(dest);\n  }\n}\n"],"sourceRoot":"/source/"}